---
title: 常见软件问题
description: 
published: true
date: 2023-08-07T01:37:49.324Z
tags: 软件
editor: markdown
dateCreated: 2023-06-14T01:40:33.264Z
---

 # 常见软件问题

> 本文提供的解决方案有些是对应问题的一种处理方案，并非唯一，仅供参考。
{.is-info}

## V23

- (Beta)搜狗输入法无法安装

	V23 预装的是 Fcitx5 输入法，与搜狗输入法（Fcitx4）暂不兼容。如需安装搜狗输入法，请自行卸载 Fcitx5 输入法组件后再安装。（[参考资料](https://bbs.deepin.org/post/253733)）
- (Beta)Wayland 模式**不建议日常使用**

	Wayland 模式尚有较多问题，如锁屏界面可控制电脑、任务栏存在缺陷等，**不建议日常使用**。
- 解决缺包问题

	[V23补充仓库：更好的deepin 23](https://bbs.deepin.org/post/257738) （注意：**第三方源可能带来问题**）

## V20.x

## 通用

- Windows 系统盘里的文件带有小锁图标，变成只读无法修改

	进入 Windows ，打开控制面板（Windows 11 请通过“Windows 工具”打开），进入“硬件和声音”>“电源选项”>“选择电源按钮的功能”，点击第3行“更改当前不可用的设置”（需要管理员），找到“关机设置”下的“启用快速启动”并取消勾选，点击“保存修改”。或者，每次先进入 Windows，再**重启**进入 deepin。

	建议阅读：[https://bbs.deepin.org/post/258177](https://bbs.deepin.org/post/258177)
- 开启无密码登录和自动登录后，进入桌面提示“您的登录密钥环未被解锁”

	在终端执行`sudo rm -f ~/.local/share/keyrings/login.keyring`。
- 编辑右键菜单“新建文档”中的内容

	修改 `~/.Templates/` 和 `/usr/share/templates/` 中的文件。
- 休眠/睡眠唤醒后鼠标键盘或网络不能用、无法从休眠/睡眠中唤醒

	部分型号电脑确实存在此问题，请禁用休眠/睡眠。
- “电源”菜单中无休眠

	请确保你已经创建并启用了交换空间/分区（Swap）。
- 启动器中应用分类有误，自行修改分类

	打开 `/usr/share/applications`，右击窗口内空白处，选择“以管理员身份打开”。右击要修改的应用的 .desktop 文件，选择“打开方式”>“文本编辑器”，修改`Categories=`后面的内容。
- `sudo apt autoremove` 确认执行前一定要认真审阅将会移除的软件包列表，确定其中不含有系统组件，再进下一步操作，**务必不要随意执行**。
- 优化字体的显示
> 出处
见 [https://bbs.deepin.org/post/259333](https://bbs.deepin.org/post/259333) 14楼。

在主目录下按Ctrl+H显示隐藏文件，然后进入.config目录中的fontconfig目录，创建一个名为font.conf的文件，内容如下：

```
<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "urn:fontconfig:fonts.dtd">
<fontconfig>

  <!-- settings go here -->
  <match target="font">
    <edit name="autohint" mode="assign">
      <bool>true</bool>
    </edit>
    <edit name="hintstyle" mode="assign">
      <const>hintslight</const>
    </edit>
    <edit name="rgba" mode="assign">
      <const>rgb</const>
    </edit>
    <edit name="lcdfilter" mode="assign">
      <const>lcddefault</const>
    </edit>
  </match>

</fontconfig>
```
之后退出再重新登录用户，再看看效果。

如果把hintslight改成hintmedium或者hintfull，会增加水平方向的微调，但是可能会让字形左右偏移，看着英文不整齐。
- 控制中心更新失败自查原因

	打开终端，执行`sudo apt update && sudo apt full-upgrade`。
- 终端执行`su`显示`su: 鉴定故障`

	改用`sudo su`命令。
- 系统预装的 Python 不可随意卸载、更新或进行其他改动较大的操作。若需配置特定的 Python 环境，建议使用 Anaconda 等。（[可参考资料1](https://blog.csdn.net/you_are_win/article/details/125167334)；[可参考资料2](https://bbs.deepin.org/post/254361)）


### 第三方软件

- WPS Office 等软件中字体显示异常

	可安装[星火商店](https://www.spark-app.store)后从中获取“Win字体”软件包。或参见： [[WPS页面显示问题]]
- V23 安装向日葵远程控制
> 出处
见 [https://bbs.deepin.org/zh/post/257022](https://bbs.deepin.org/zh/post/257022)。 {.is-info}

  按顺序安装以下软件包：
  1. [libindicator3-7](https://packages.debian.org/zh-cn/buster/amd64/libindicator3-7/download)
  2. [libappindicator3-1](https://packages.debian.org/zh-cn/buster/amd64/libappindicator3-1/download)
  3. [SunloginClient](https://sunlogin.oray.com/download)

- Windows 应用内提示更新，点击更新后无反应

	此为正常现象，请从应用商店获取推送的更新。若自行更新，请手动下载最新版安装程序后在对应的目录中运行。
- VSCode 使用原生标题栏

	在设置中找到`Window: Title Bar Style`这一项，选择`custom`。
- 获取更多软件

	安装[星火商店](https://www.spark-app.store)，这是一款由社区爱好者维护，致力于丰富Linux生态的第三方应用商店。有关问题请前往[论坛](https://www.deepinos.org)讨论。

## 已知问题

参见 [https://github.com/linuxdeepin/developer-center/issues](https://github.com/linuxdeepin/developer-center/issues)。

---
# 更多
## Linux 和 Windows 时间不同步
> 出处
见 [https://bbs.deepin.org/post/253670](https://bbs.deepin.org/post/253670) 3楼。

###  一、 Windows的时间和时区

Windows操作系统直接把CMOS时间认定为当前显示时间，不根据时区转换。这样每调整一次系统时区，系统会根据调整的时区来计算当前时间，确定后，也就同时修改了CMOS内的时间（即每调整一次时区，设置保存后，CMOS时间也将被操作系统改变一次，注意不同操作系统调整时间后，也会同时改变CMOS时间，这一点是共通的）。

### 二、 Linux的时间和时区

Linux和苹果操作系统以当前主板CMOS内时间做为格林威治标准时间，再根据系统设置的时区来最终确定当前系统时间（如时区设置为GMT+08:00北京时间时以及当前CMOS时间为03:00，那么系统会将两个时间相加得出显示在桌面的当前系统时间为11:00）

### 三、 问题解决

解决的办法有两个

让Windows使用Ubuntu的时间管理方式，就是启用UTC（世界协调时）
让Ubuntu按照Windows的方式管理时间，就是让Ubuntu禁用UTC（世界协调时）

个人建议第二种，因为通常Windows是主系统，不推荐对Windows进行这种修改，不过我还是都介绍一下：
1.在Windows下启用UTC
打开运行窗口（快捷键Win+R），然后输入regedit启动注册表编辑器，并找到一下目录位置：
```
HKEY_LOCAL_MACHINE/SYSTEM/CurrentControlSet/Control/TimeZoneInformation/
```
添加一项类型为`REG_DWORD`的键值，命名为`RealTimeIsUniversal`，值为 `1` 然后重启后时间即回复正常

2.在Linux下关闭UTC
这个用这个方法是我比较推荐的：按Ctrl+Alt+T调出终端，输入：
```
sudo vim /etc/default/rcS
```
找到
```
UTC=yes
```
这一行，改成
```
UTC=no
```
保存即可，时间修改立即生效。这样就可以解决Windows与Ubuntu双系统时间同步问题了

3.(推荐)

在Linux下打开终端，输入命令：
```
timedatectl set-local-rtc 1
```
然后再输入
```
timedatectl
```

## 清理不需要的系统内核（待斟酌）
> 出处
见 [https://bbs.deepin.org/post/253636](https://bbs.deepin.org/post/253636) 2楼。

查询当前系统的全部内核
```
sudo dpkg -l|egrep "linux-header|linux-image"
``` 

清理不需要的内核
```
sudo apt purge xxxxx
```

## 删除文件管理器“磁盘”中的百度网盘快捷方式
删除`/usr/share/dde-file-manager/extensions/appEntry`目录下的 .desktop 文件。

## 自定义屏幕缩放
> 出处
见 [https://bbs.chinauos.com/zh/post/9328](https://bbs.chinauos.com/zh/post/9328) 2楼。

执行命令`sudo apt install dconf-editor`安装 dconf editor 并打开它，找到`window-scale`这一项进行修改。

## 放大镜
> 出处
见 [https://bbs.deepin.org/post/253561](https://bbs.deepin.org/post/253561) 回复。

Super + +，启用放大镜；

Super + -，缩小放大镜；

Super + 0，关闭放大镜。

## 加入内测后部分软件安装出现问题
> 出处
见 [https://bbs.deepin.org/zh/post/254022](https://bbs.deepin.org/zh/post/254022) 7楼。

执行 
```
sudo rm /var/lib/apt/lists/*
sudo apt update
```
更新本地仓库索引信息，再重新尝试安装。


## 调整安卓应用的宽高、默认横屏等显示参数
> 出处
见 [https://bbs.deepin.org/post/255732](https://bbs.deepin.org/post/255732) 2楼。

配置文件位置：/usr/share/uengine/appetc，每一个文件对应一个安卓应用，文件名是应用ID

![202304270812118054_image.png](./img/202304270812118054_image.png)

文件内容很简单：

verticalWidth 540 //竖屏宽
verticalHeighe 960 //竖屏高
horizontaltWidth 1280 //横屏宽，备选为1280
horizontaltHeighe 640 //横屏高 ，备选为720
verticalScreen 0 //设置默认横屏还是竖屏，1为竖屏，0为横屏
allowFullScreen 0 //设置是否允许全屏，1为允许，0为不允许
allowScreenSwitching 1 //设置是否允许横竖屏切换，1为允许，0为不允许
defaultFullScreen 0 //设置是否默认显示最大化，1为默认最大化，0为不是

## 清除文件管理器的地址栏历史
> 出处
见 [https://bbs.deepin.org/post/254424](https://bbs.deepin.org/post/254424) 3楼。

打开`~/.config/deepin/dde-file-manager/dde-file-manager.obtusely.json`，删除其中的`SearchHistory`项。

## 检查应用的开机启动情况
> 出处
见 [https://bbs.deepin.org/post/253444](https://bbs.deepin.org/post/253444)。

检查

systemctl list-unit-files

service --status-all

/etc/xdg/autostart 目录下

##  bash: cd: 参数太多
> 出处
见 [https://bbs.deepin.org/post/254318](https://bbs.deepin.org/post/254318) 回复。

如果是输入的路径中含有空格等特殊字符，需在相应文件夹名称的两侧加上`'`，如`.../'deepin 常用资源整理'/...`。

## 论坛 Markdown 编辑器`< >`符号未按原文显示
> 出处
见 [https://bbs.deepin.org/post/254090](https://bbs.deepin.org/post/254090) 6楼。

由于`<`符号在markdown和html中都有特殊含义，可以用`把网址包裹起来。

比如

`git clone https://<gitee_用户名>:<私人令牌>@gitee.com/<gitee_用户名>/notepad.git`
