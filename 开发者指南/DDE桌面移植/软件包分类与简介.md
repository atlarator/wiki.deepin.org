---
title: 开发库移植
description: 
published: true
date: 2022-09-01T07:26:00.065Z
tags: dtk, 移植
editor: markdown
dateCreated: 2022-09-01T07:26:00.065Z
---

# 开发库

- [dtkcommon](https://github.com/linuxdeepin/dtkcommon)
- [dtkcore](https://github.com/linuxdeepin/dtkcore)
- [dtkgui](https://github.com/linuxdeepin/dtkgui)
- [dtkwidget](https://github.com/linuxdeepin/dtkwidget)

dtk 是基于 Qt 开发的一整套简单且实用的通用开发框架，目前所有的 dde 桌面软件都是使用 dtk 开发的，打包 dtk 是移植 dde 的第一步且必要的一步。


移植好 dtk 就可以编译大多数 dde 桌面软件了，比如 deepin-draw。但是编译成功后，运行起来界面显示异常，原因是需要下面的两个库：

- [qt5integration](https://github.com/linuxdeepin/qt5integration)： Qt platform theme 
- [qt5platform-plugins](https://github.com/linuxdeepin/qt5platform-plugins): Qt platform plugin
  - 编译时使用 "CONFIG+=DISABLE_WAYLAND" 参数可以禁用 wayland
  - 如果目标系统qt版本非常新导致编译报错，可以从新版 qt 的源码中拷贝一份 libqt5xcbqpa-dev 向上游提交，示例 [pr](https://github.com/linuxdeepin/qt5platform-plugins/pull/119) 。

上述两个库是 qt 插件，必须安装到特殊路径让 qt 找到，比如 `/usr/lib/x86_64-linux-gnu/qt5/plugins`，如果目标发行版路径比较特殊，可能需要设置 QT_PLUGIN_PATH 环境变量。


- [dde-qt-dbus-factory](https://github.com/linuxdeepin/dde-qt-dbus-factory)

用来统一存放 `dde` 使用到的自动生成的 `Qt DBus` 代码的仓库。是多个项目的依赖，应尽早移植。

需要注意，以后编译提示缺少 `libdframeworkdbus` 时就是指的此库。


- [udisks2-qt5]( https://github.com/linuxdeepin/udisks2-qt5): UDisks2 D-Bus 接口的 qt 绑定
- [disomaster](https://github.com/linuxdeepin/disomaster) ：对 libisoburn 的 qt  封装
- [docparser](https://github.com/linuxdeepin/docparser)：从 document2html 移植而来的文档解析器库
- [gio-qt](https://github.com/linuxdeepin/gio-qt)： 对 gio 的 qt  封装
- [image-editor](https://github.com/linuxdeepin/image-editor)：  deepin-image-viewer 和 deepin-album 使用的图像处理库

上面几个库可以在需要的时候再打包，难度并不高。


- [deepin-gettext-tools](https://github.com/linuxdeepin/deepin-gettext-tools) 

python/perl 库，处理 desktop 文件翻译的便捷工具


- [dtkdeclarative](https://github.com/linuxdeepin/dtkdeclarative)： dtk 的 qml 组件

正在开发的 [deepin-tweak](https://github.com/linuxdeepin/deepin-tweak) 使用此库。目前在开发前期，移植优先级非常低。